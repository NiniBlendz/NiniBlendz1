<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nihal's Barber Shop</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">

<style>
body{font-family:'Poppins',sans-serif; background:#111; color:#fff; margin:0; padding:0;}
header{background:#000; padding:20px; text-align:center; border-bottom:3px solid #c59d5f;}
header h1{font-size:2.5rem; letter-spacing:2px;}
nav a{color:#fff; margin:0 15px; text-decoration:none; font-weight:500;}
nav a:hover{color:#c59d5f;}
section{padding:50px 20px; text-align:center;}
.hero{height:70vh; display:flex; justify-content:center; align-items:center; background:linear-gradient(rgba(0,0,0,0.7),rgba(0,0,0,0.7)),url('https://images.unsplash.com/photo-1622286342621-4bd786c2447c?auto=format&fit=crop&w=1500&q=80') center/cover;}
.hero h2{font-size:2.8rem; margin-bottom:20px;}
.btn{display:inline-block; padding:12px 25px; background:#c59d5f; color:#000; text-decoration:none; font-weight:600; border-radius:5px; cursor:pointer; border:none;}
.btn:hover{background:#fff;}
.dashboard{max-width:1000px; margin:auto; display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:20px; margin-top:40px;}
.card{background:#1c1c1c; padding:30px; border-radius:10px; border:1px solid #333;}
.card h3{margin-bottom:10px; color:#c59d5f;}
form{max-width:500px; margin:30px auto; text-align:left;}
input,select,textarea{width:100%; padding:12px; margin-bottom:15px; border-radius:5px; border:none; background:#fff; color:#000; font-size:16px;}
footer{background:#000; padding:20px; text-align:center; border-top:3px solid #c59d5f;}
.hidden{display:none;}
</style>
</head>
<body>

<header>
<h1>Nihal's Barber Shop</h1>
<nav>
<a href="#home">Home</a>
<a href="#info">Info</a>
<a href="#booking">Book</a>
</nav>
</header>

<section class="hero" id="home">
<div>
<h2>Sharp Cuts & Clean Blends</h2>
<a href="#booking" class="btn">Book Now</a>
</div>
</section>

<section id="info">
<h2>Shop Info</h2>
<div class="dashboard">
<div class="card">
<h3>Barber</h3>
<p>Nihal</p>
</div>
<div class="card">
<h3>Hours</h3>
<p>Monday – Friday</p>
<p>From 10:40 AM</p>
</div>
<div class="card">
<h3>Location</h3>
<p>Vaughan, Ontario</p>
</div>
<div class="card">
<h3>Contact</h3>
<p>Phone: 437 660 0452</p>
<p>Email: niniblendz1@gmail.com</p>
</div>
</div>
</section>

<section id="booking">
<h2>Book Your Appointment</h2>
<form id="bookingForm">
<input type="text" name="name" placeholder="Full Name" required>
<input type="email" name="email" placeholder="Email Address" required>
<input type="tel" name="phone" placeholder="Phone Number" required>
<input type="text" id="datePicker" name="date" placeholder="Select Date" required readonly>
<textarea name="message" placeholder="Extra notes (optional)"></textarea>
<button type="submit" class="btn">Confirm Booking</button>
</form>
<p id="successMessage" class="hidden">Appointment booked successfully! You will receive confirmation soon.</p>
</section>

<footer>
<p>© 2026 Nihal's Barber Shop | Vaughan, Ontario</p>
</footer>

<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<script>
// Initialize EmailJS
(function(){ emailjs.init("jeP077xtvGHOcgIhO"); })();

// Load booked dates
let bookedDates = JSON.parse(localStorage.getItem('bookedDates')) || [];

// Initialize Flatpickr
const datePicker = flatpickr("#datePicker", {
  minDate: "today",
  dateFormat: "F j, Y",
  disable: bookedDates.map(d => new Date(d)),
});

// Handle booking
document.getElementById("bookingForm").addEventListener("submit", function(e){
  e.preventDefault();
  const selectedDate = datePicker.input.value;
  if(!selectedDate){ alert("Please select a date."); return; }
  if(bookedDates.includes(selectedDate)){ alert("This date is already booked."); return; }

  bookedDates.push(selectedDate);
  localStorage.setItem('bookedDates', JSON.stringify(bookedDates));
  datePicker.set('disable', bookedDates.map(d => new Date(d)));

  // Send EmailJS email
  emailjs.send("service_8w8oobs","template_ru4etqn",{
    customer_name: this.name.value,
    customer_email: this.email.value,
    date: selectedDate,
    time: "10:40 AM",
    barber: "Nihal",
    message: this.message.value,
    to_email: "niniblendz1@gmail.com"
  }).then(() => {
    document.getElementById("successMessage").classList.remove("hidden");
    this.reset();
    datePicker.clear();
  }, () => {
    alert("Booking failed. Check EmailJS setup.");
  });
});
</script>

</body>
</html>
